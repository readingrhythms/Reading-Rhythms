---
import MainHead from '@components/layout/MainHead.astro';

interface Props {
	title?: string | undefined;
	description?: string | undefined;
	fullPage?: boolean | undefined;
}

const { title, description, fullPage } = Astro.props;
---

<html lang="en">
	<head>
			<MainHead title={title} description={description} />
	</head>
	<body class="font-serif">
		<!-- Google Tag Manager (noscript) -->
		<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PS29M37L"
		height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
		<!-- End Google Tag Manager (noscript) -->
		<div id="loader" class="fixed inset-0 bg-white flex justify-center items-center z-50">
			<div class="loader w-10 h-10 border-4 border-dark-gray rounded-full border-t-transparent animate-spin"></div>
		</div>
		<main class={`relative ${fullPage ? 'full-height-mobile w-screen md:h-screen flex items-center justify-center' : 'w-full h-full mb-4 md:mb-0 p-8 md:p-16'}`}>
      <slot />
    </main>
	</body>
</html>

<script is:inline>
function setFullHeight() {
	const vh = window.innerHeight;
	document.documentElement.style.setProperty('--full-vh', `${vh}px`);
}

window.addEventListener('resize', setFullHeight);

// When the window loads, hide the loader
window.addEventListener('load', function() {
	setFullHeight();
	document.getElementById('loader').style.display = 'none';
});
</script>
